8. Metodo de actualización 

Podemos copiar el codigo del Storage dentro del Metodo Update tendremos


    public function update(Request $request, Book $book)
    {
        //return 'patch';
        

       	return $book;

        $request->validate([
            'title' => ['required']

        ]);

        

        $book = new Book; //Nueva instancia de Eloquent 
        $book->title = $request->input('title'); //obtencion de los datos
        $book->save(); //Se guarda el valor en la BD

        

        return $book; //Se devuelve el valor del libro

    
        
    }


 La diferencia es que en el metodo anterior se obtiene el libro de manera automatica ya que ahora es con el verbo PATCH

 PATCH:  http://127.0.0.1:8000/api/books/2

 El resultado sera:

 {
    "id": 2,
    "title": "Book 2",
    "created_at": "2022-11-01T20:19:04.000000Z",
    "updated_at": "2022-11-01T20:19:04.000000Z"
}

Si solo tuvieramos:

 public function update(Request $request, $book)

 Solo se visualizaria el ID

 Se hace la misma validación y en lugar de crear un nuevo libro se utiliza el que ya se tiene quitando la siguiente linea

 y queando:

 ---
     public function update(Request $request, Book $book)
    {
        //return 'patch';
        
        return $book;
        

        $request->validate([
            'title' => ['required']

        ]);

        
        $book->title = $request->input('title'); //obtencion de los datos
        $book->save(); //Se guarda el valor en la BD



        return $book; //Se devuelve el valor del libro

    
        
    }


 ---



  En Postman


PATCH: http://127.0.0.1:8000/api/books/2
Pero en Body:

KEY:title
Value: Book 2 - Updated

Pero con el body con :
	x-www-form-urlencoded

	

Si observamos

MariaDB [books]> select * from books;
+----+------------------+---------------------+---------------------+
| id | title            | created_at          | updated_at          |
+----+------------------+---------------------+---------------------+
|  1 | Book 1           | 2022-11-01 20:19:04 | 2022-11-01 20:19:04 |
|  2 | Book 2 - Updated | 2022-11-01 20:19:04 | 2022-11-02 07:24:33 |
|  3 | Book 3           | 2022-11-02 06:48:28 | 2022-11-02 06:48:28 |
|  4 | Book 4           | 2022-11-02 06:53:07 | 2022-11-02 06:53:07 |


Ahora ya estan actualizados los datos en especifico el campo 2 que fue el que se envio a actualizar la informacion dle titulo