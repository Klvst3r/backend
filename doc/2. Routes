2. Routes

Terminal

php artisan route:list

/routes/api.php

php artisan make:model Book -mf --api 

	-m Parametro para crear la migración al modelo
	-f Para la creación de un factory
	--api Para generar un controlador con lo metodos necesarios

Archivos generados

   INFO  Model [app/Models/Book.php] created successfully.
   [Modelo para interactuar con la BD orientada a objetos]  

   INFO  Factory [database/factories/BookFactory.php] created successfully.  
   [Se crean datos de ejemplo en la BD]

   INFO  Created migration [2022_11_02_040718_create_books_table].  
   [Creación de la estructura de la tabla de los libros]

   INFO  Controller [app/Http/Controllers/BookController.php] created successfully.  
   [Controlador]


Definicion de las rutas

REST API

Verbo HTTP 		Path 				Nombre
GET				/books 				index
GET 			/books/{id}			show
-------------------------------------------
GET				/books/create 		create [Sin utilizar]
-------------------------------------------
POST 			/books 				store
-------------------------------------------
GET				/books/{id}/edit	edit	[Sin utilizar]
-------------------------------------------
PATCH			/books/{id}			update
DELETE 			/books/{id}			delete



api.php
[Creado con el comando make:module]
Route::apiResource('books', BookController::class);

books - Nombre del recurso
BookController::class	- controlador que procesara las rutas


php artisan route:list


GET|HEAD        / ........................................................................................................ 
  POST            _ignition/execute-solution . ignition.executeSolution › Spatie\LaravelIgnition › ExecuteSolutionController
  GET|HEAD        _ignition/health-check ............. ignition.healthCheck › Spatie\LaravelIgnition › HealthCheckController
  POST            _ignition/update-config .......... ignition.updateConfig › Spatie\LaravelIgnition › UpdateConfigController
---[Rutas generadas]  
  GET|HEAD        api/books ............................................................. books.index › BookController@index
  POST            api/books ............................................................. books.store › BookController@store
  GET|HEAD        api/books/{book} ........................................................ books.show › BookController@show
  PUT|PATCH       api/books/{book} .................................................... books.update › BookController@update
  DELETE          api/books/{book} .................................................. books.destroy › BookController@destroy
---
  GET|HEAD        sanctum/csrf-cookie .................... sanctum.csrf-cookie › Laravel\Sanctum › CsrfCookieController@show


Rutas

books.index [Para obtener todos los libros]
books.store [Para almacenar un libro]
books.show [Para mostrar un libro]
books.update [Para actualizar un libro]
books.destroy [Para destruir un libro]

En la parte delante de las rutas esta el metodo del controlador se esta apuntando, es decir esta ruta esta apuntando al metodo index | store | show | update | destroy dentro del Controlador BooksController


---
app/Http/Controllers/BooksController.php

